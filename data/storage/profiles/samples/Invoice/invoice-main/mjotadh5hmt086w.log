{"type":"operationStart","subtype":"profile","data":{"_id":"BvIwjjqbeVA6A3Tt","timestamp":"2024-02-13T12:05:43.713Z","state":"queued","mode":"standard","creationDate":"2024-02-13T12:05:43.715Z","modificationDate":"2024-02-13T12:05:43.715Z","shortid":"LNxL6hU","$entitySet":"profiles"},"doDiffs":false,"timestamp":1707825943714,"id":"w7a3c5ehrnejc4c","previousOperationId":null,"operationId":"tcwwoti3xd1mfns"}
{"type":"log","level":"info","message":"Render request 13 queued for execution and waiting for available worker","previousOperationId":"tcwwoti3xd1mfns","timestamp":1707825943714,"id":"rknak5lbhxc98lq"}
{"type":"operationStart","subtype":"render","name":"invoice-main","previousOperationId":"tcwwoti3xd1mfns","timestamp":1707825943724,"id":"r201qec2b1090q4","previousEventId":"w7a3c5ehrnejc4c","operationId":"cukp1nweocogxgd"}
{"type":"log","timestamp":1707825943724,"level":"info","message":"Starting rendering request 13","meta":{"rootId":"mjotadh5hmt086w","id":"mjotadh5hmt086w"},"id":"3b0hzr8e68hrcyi","previousOperationId":"cukp1nweocogxgd"}
{"type":"log","timestamp":1707825943724,"level":"info","message":"Rendering template { name: invoice-main, recipe: chrome-pdf, engine: handlebars, preview: true }","meta":{"rootId":"mjotadh5hmt086w","id":"mjotadh5hmt086w"},"id":"cndlmmefdcxybu0","previousOperationId":"cukp1nweocogxgd"}
{"type":"log","timestamp":1707825943726,"level":"debug","message":"Adding sample data Sy5S19ncg","meta":{"rootId":"mjotadh5hmt086w","id":"mjotadh5hmt086w"},"id":"dlkgan45rg7kbny","previousOperationId":"cukp1nweocogxgd"}
{"type":"log","timestamp":1707825943730,"level":"debug","message":"Base url not specified, skipping its injection.","meta":{"rootId":"mjotadh5hmt086w","id":"mjotadh5hmt086w"},"id":"bnwi9cpdr8513hf","previousOperationId":"cukp1nweocogxgd"}
{"type":"operationStart","subtype":"engine","name":"handlebars","timestamp":1707825943731,"id":"b7s6uuaxvezxpbv","previousEventId":"r201qec2b1090q4","operationId":"7dlebeeqlzs1gqv","previousOperationId":"cukp1nweocogxgd"}
{"type":"log","timestamp":1707825943731,"level":"debug","message":"Rendering engine handlebars","meta":{"rootId":"mjotadh5hmt086w","id":"mjotadh5hmt086w"},"id":"d7bfu08rub6fs3a","previousOperationId":"7dlebeeqlzs1gqv"}
{"type":"log","timestamp":1707825944111,"level":"warn","message":"Error when processing render request 13\n(because) error when evaluating engine handlebars for template /samples/Invoice/invoice-main\n(because) missing helper: \"formatDate\"\n\n(sandbox.js line 3100:18)\nError: Missing helper: \"formatDate\"\n  at Object.<anonymous> (D:\\tin\\skripsi\\Bahan-Project-Laundry-App\\backend\\report\\jsreportapp\\node_modules\\handlebars\\dist\\cjs\\handlebars\\helpers\\helper-missing.js:19:13)\n  at Object.wrapper (D:\\tin\\skripsi\\Bahan-Project-Laundry-App\\backend\\report\\jsreportapp\\node_modules\\handlebars\\dist\\cjs\\handlebars\\internal\\wrapHelper.js:15:19)\n  at Object.main (eval at <anonymous> (eval at makeEvaluate (D:\\tin\\skripsi\\Bahan-Project-Laundry-App\\backend\\report\\jsreportapp\\node_modules\\@jsreport\\ses\\index.js:6142:27)), <anonymous>:31:110)\n  at main (D:\\tin\\skripsi\\Bahan-Project-Laundry-App\\backend\\report\\jsreportapp\\node_modules\\handlebars\\dist\\cjs\\handlebars\\runtime.js:208:32)\n  at ret (D:\\tin\\skripsi\\Bahan-Project-Laundry-App\\backend\\report\\jsreportapp\\node_modules\\handlebars\\dist\\cjs\\handlebars\\runtime.js:212:12)\n  at Object.execute (D:\\tin\\skripsi\\Bahan-Project-Laundry-App\\backend\\report\\jsreportapp\\node_modules\\@jsreport\\jsreport-handlebars\\lib\\handlebarsEngine.js:80:14)\n  at Object.execute (D:\\tin\\skripsi\\Bahan-Project-Laundry-App\\backend\\report\\jsreportapp\\node_modules\\@jsreport\\jsreport-handlebars\\lib\\worker.js:27:43)\n  at executionFn (D:\\tin\\skripsi\\Bahan-Project-Laundry-App\\backend\\report\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:222:40)\n  at eval (sandbox.js:3100:18)\n  at async run (D:\\tin\\skripsi\\Bahan-Project-Laundry-App\\backend\\report\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\sandbox\\createSandbox.js:132:18)\n  at async WorkerReporter.runInSandbox [as _runInSandbox] (D:\\tin\\skripsi\\Bahan-Project-Laundry-App\\backend\\report\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\sandbox\\runInSandbox.js:195:14)\n  at async executeEngine (D:\\tin\\skripsi\\Bahan-Project-Laundry-App\\backend\\report\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:287:14)\n  at async engine.engine (D:\\tin\\skripsi\\Bahan-Project-Laundry-App\\backend\\report\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:115:14)\n  at async invokeRender (D:\\tin\\skripsi\\Bahan-Project-Laundry-App\\backend\\report\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:61:23)\n  at async WorkerReporter._render (D:\\tin\\skripsi\\Bahan-Project-Laundry-App\\backend\\report\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:142:7)\n  at async D:\\tin\\skripsi\\Bahan-Project-Laundry-App\\backend\\report\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\reporter.js:224:19\nwrapped by:\nError: Error when evaluating engine handlebars for template /samples/Invoice/invoice-main\n(because) missing helper: \"formatDate\"\n  at module.exports (D:\\tin\\skripsi\\Bahan-Project-Laundry-App\\backend\\report\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\createError.js:10:13)\n  at WorkerReporter.createError (D:\\tin\\skripsi\\Bahan-Project-Laundry-App\\backend\\report\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\reporter.js:49:12)\n  at executeEngine (D:\\tin\\skripsi\\Bahan-Project-Laundry-App\\backend\\report\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:310:33)\n  at async engine.engine (D:\\tin\\skripsi\\Bahan-Project-Laundry-App\\backend\\report\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:115:14)\n  at async invokeRender (D:\\tin\\skripsi\\Bahan-Project-Laundry-App\\backend\\report\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:61:23)\n  at async WorkerReporter._render (D:\\tin\\skripsi\\Bahan-Project-Laundry-App\\backend\\report\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:142:7)\n  at async D:\\tin\\skripsi\\Bahan-Project-Laundry-App\\backend\\report\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\reporter.js:224:19\n  at async processAndResponse (D:\\tin\\skripsi\\Bahan-Project-Laundry-App\\backend\\report\\jsreportapp\\node_modules\\@jsreport\\advanced-workers\\lib\\workerHandler.js:41:17)","meta":{"rootId":"mjotadh5hmt086w","id":"mjotadh5hmt086w"},"id":"rybes8qk3zx4ky8","previousOperationId":"7dlebeeqlzs1gqv"}
{"type":"log","timestamp":1707825944111,"level":"warn","message":"Rendering request 13 finished with error in 398 ms","meta":{"rootId":"mjotadh5hmt086w","id":"mjotadh5hmt086w"},"id":"wxu39v5bnp6e9zy","previousOperationId":"7dlebeeqlzs1gqv"}
{"type":"error","timestamp":1707825944119,"entity":{"shortid":"rkJTnK2ce","name":"invoice-main","content":"{{!-- <!--\nInvoice dynamically rendered into html using handlebars and converted into pdf\nusing chrome-pdf recipe. The styles are extracted into separate asset for\nbetter readability and later reuse.\n\nData to this sample are mocked at the design time and should be filled on the\nincoming API request.\n!-->\n\n<html>\n    <head>\n        <meta content=\"text/html; charset=utf-8\" http-equiv=\"Content-Type\">\n        <style>\n            {{asset \"invoice-styles.css\" \"utf8\"}}\n        </style>\n    </head>\n    <body>\n        <div class=\"invoice-box\">\n            <table cellpadding=\"0\" cellspacing=\"0\">\n                <tr class=\"top\">\n                    <td colspan=\"2\">\n                        <table>\n                            <tr>\n                                <td class=\"title\">\n                                    <img src=\"{{asset \"invoice-logo.png\" \"dataURI\"}}\" style=\"width:100%; max-width:300px;\" />\n                                </td>\n                                <td>\n                                    Invoice #: {{number}}\n                                    <br> Created: {{nowLocalStr}}\n                                    <br> Due: {{nowPlus20Days}}\n                                </td>\n                            </tr>\n                        </table>\n                    </td>\n                </tr>\n                <tr class=\"information\">\n                    <td colspan=\"2 \">\n                        <table>\n                            <tr>\n                                <td>\n                                    {{seller.name}}<br>\n                                    {{seller.road}}<br>\n                                    {{seller.country}}\n                                </td>\n                                <td>\n                                    {{buyer.name}}<br>\n                                    {{buyer.road}}<br>\n                                    {{buyer.country}}\n                                </td>\n                            </tr>\n                        </table>\n                    </td>\n                </tr>\n                <tr class=\"heading\">\n                    <td>\n                        Item\n                    </td>\n                    <td>\n                        Price\n                    </td>\n                </tr>\n                {{#each items}}\n                <tr class=\"item\">\n                    <td>\n                        {{name}}\n                    </td>\n                    <td>\n                        $ {{price}}\n                    </td>\n                </tr>\n                {{/each}}\n                <tr class=\"total\">\n                    <td></td>\n                    <td>\n                        Total: ${{total items}}\n                    </td>\n                </tr>\n            </table>\n        </div>\n    </body>\n</html>\n\n\n --}}\n\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Laporan Penjualan Laundry</title>\n    <style>\n        body {\n            font-family: Arial, sans-serif;\n        }\n        table {\n            width: 100%;\n            border-collapse: collapse;\n        }\n        th, td {\n            border: 1px solid black;\n            padding: 8px;\n        }\n    </style>\n</head>\n<body>\n    <h1>Laporan Penjualan Laundry</h1>\n    <p>Tanggal: {{formatDate startDate}} - {{formatDate endDate}}</p>\n    <table>\n        <thead>\n            <tr>\n                <th>No</th>\n                <th>Tanggal Transaksi</th>\n                <th>Nama Pelanggan</th>\n                <th>Jenis Layanan</th>\n                <th>Total Harga</th>\n            </tr>\n        </thead>\n        <tbody>\n            {{#each sales}}\n            <tr>\n                <td>{{@index}}</td>\n                <td>{{formatDate date}}</td>\n                <td>{{customerName}}</td>\n                <td>{{serviceType}}</td>\n                <td>{{formatCurrency total}}</td>\n            </tr>\n            {{/each}}\n        </tbody>\n    </table>\n\n    <script>\n        function formatDate(date) {\n            // Format tanggal sesuai kebutuhan\n            // Misalnya: 'DD/MM/YYYY'\n            return moment(date).format('DD/MM/YYYY');\n        }\n\n        function formatCurrency(amount) {\n            // Format mata uang sesuai kebutuhan\n            // Misalnya: 'Rp 1.000.000,00'\n            return new Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(amount);\n        }\n    </script>\n</body>\n</html>\n"},"property":"helpers","statusCode":400,"weak":true,"logged":true,"previousOperationId":"7dlebeeqlzs1gqv","id":"ept8vvojdw6blv4","stack":"Error: Missing helper: \"formatDate\"\n  at Object.<anonymous> (D:\\tin\\skripsi\\Bahan-Project-Laundry-App\\backend\\report\\jsreportapp\\node_modules\\handlebars\\dist\\cjs\\handlebars\\helpers\\helper-missing.js:19:13)\n  at Object.wrapper (D:\\tin\\skripsi\\Bahan-Project-Laundry-App\\backend\\report\\jsreportapp\\node_modules\\handlebars\\dist\\cjs\\handlebars\\internal\\wrapHelper.js:15:19)\n  at Object.main (eval at <anonymous> (eval at makeEvaluate (D:\\tin\\skripsi\\Bahan-Project-Laundry-App\\backend\\report\\jsreportapp\\node_modules\\@jsreport\\ses\\index.js:6142:27)), <anonymous>:31:110)\n  at main (D:\\tin\\skripsi\\Bahan-Project-Laundry-App\\backend\\report\\jsreportapp\\node_modules\\handlebars\\dist\\cjs\\handlebars\\runtime.js:208:32)\n  at ret (D:\\tin\\skripsi\\Bahan-Project-Laundry-App\\backend\\report\\jsreportapp\\node_modules\\handlebars\\dist\\cjs\\handlebars\\runtime.js:212:12)\n  at Object.execute (D:\\tin\\skripsi\\Bahan-Project-Laundry-App\\backend\\report\\jsreportapp\\node_modules\\@jsreport\\jsreport-handlebars\\lib\\handlebarsEngine.js:80:14)\n  at Object.execute (D:\\tin\\skripsi\\Bahan-Project-Laundry-App\\backend\\report\\jsreportapp\\node_modules\\@jsreport\\jsreport-handlebars\\lib\\worker.js:27:43)\n  at executionFn (D:\\tin\\skripsi\\Bahan-Project-Laundry-App\\backend\\report\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:222:40)\n  at eval (sandbox.js:3100:18)\n  at async run (D:\\tin\\skripsi\\Bahan-Project-Laundry-App\\backend\\report\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\sandbox\\createSandbox.js:132:18)\n  at async WorkerReporter.runInSandbox [as _runInSandbox] (D:\\tin\\skripsi\\Bahan-Project-Laundry-App\\backend\\report\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\sandbox\\runInSandbox.js:195:14)\n  at async executeEngine (D:\\tin\\skripsi\\Bahan-Project-Laundry-App\\backend\\report\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:287:14)\n  at async engine.engine (D:\\tin\\skripsi\\Bahan-Project-Laundry-App\\backend\\report\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:115:14)\n  at async invokeRender (D:\\tin\\skripsi\\Bahan-Project-Laundry-App\\backend\\report\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:61:23)\n  at async WorkerReporter._render (D:\\tin\\skripsi\\Bahan-Project-Laundry-App\\backend\\report\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:142:7)\n  at async D:\\tin\\skripsi\\Bahan-Project-Laundry-App\\backend\\report\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\reporter.js:224:19\nwrapped by:\nError: Error when evaluating engine handlebars for template /samples/Invoice/invoice-main\n(because) missing helper: \"formatDate\"\n  at module.exports (D:\\tin\\skripsi\\Bahan-Project-Laundry-App\\backend\\report\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\createError.js:10:13)\n  at WorkerReporter.createError (D:\\tin\\skripsi\\Bahan-Project-Laundry-App\\backend\\report\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\reporter.js:49:12)\n  at executeEngine (D:\\tin\\skripsi\\Bahan-Project-Laundry-App\\backend\\report\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:310:33)\n  at async engine.engine (D:\\tin\\skripsi\\Bahan-Project-Laundry-App\\backend\\report\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:115:14)\n  at async invokeRender (D:\\tin\\skripsi\\Bahan-Project-Laundry-App\\backend\\report\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:61:23)\n  at async WorkerReporter._render (D:\\tin\\skripsi\\Bahan-Project-Laundry-App\\backend\\report\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:142:7)\n  at async D:\\tin\\skripsi\\Bahan-Project-Laundry-App\\backend\\report\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\reporter.js:224:19\n  at async processAndResponse (D:\\tin\\skripsi\\Bahan-Project-Laundry-App\\backend\\report\\jsreportapp\\node_modules\\@jsreport\\advanced-workers\\lib\\workerHandler.js:41:17)","message":"Error when evaluating engine handlebars for template /samples/Invoice/invoice-main\n(because) missing helper: \"formatDate\"\n\n(sandbox.js line 3100:18)"}
